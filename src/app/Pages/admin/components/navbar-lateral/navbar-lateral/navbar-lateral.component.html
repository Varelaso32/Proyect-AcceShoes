<div class="flex min-h-screen bg-[#f0f2f5]">

    <aside class="flex flex-col w-[250px] bg-cyan-800 text-white py-6">
        <div class="logo mb-6 flex justify-center">
            <a routerLink="/home-admin">
                <img src="assets/logo-acceshoes.png" alt="AcceShoes Logo" class="h-15" />
            </a>
        </div>

        <hr class="border-white/30 mx-5 my-2" />

        <ul class="menu bg-transparent text-white text-base">
            <li>
                <a routerLink="/admin/usuarios" routerLinkActive="bg-white/30"
                    class="flex items-center whitespace-nowrap truncate text-white font-semibold px-5 py-3 rounded-lg hover:bg-white/20 transition-colors duration-300">
                    <i class="fas fa-cog mr-0 text-xl"></i>
                    Gestión de Usuarios
                </a>
            </li>
            <li>
                <a routerLink="/admin/categorias" routerLinkActive="bg-white/30"
                    class="flex items-center whitespace-nowrap truncate text-white font-semibold px-5 py-3 rounded-lg hover:bg-white/20 transition-colors duration-300">
                    <i class="fas fa-shopping-cart mr-0 text-xl"></i>
                    Gestión de Categorías
                </a>
            </li>
            <li>
                <a routerLink="/admin/planes" routerLinkActive="bg-white/30"
                    class="flex items-center whitespace-nowrap truncate text-white font-semibold px-5 py-3 rounded-lg hover:bg-white/20 transition-colors duration-300">
                    <i class="fas fa-shopping-cart mr-0 text-xl"></i>
                    Gestión de Planes
                </a>
            </li>
            <li>
                <a routerLink="/admin/planes" routerLinkActive="bg-white/30"
                    class="flex items-center whitespace-nowrap truncate text-white font-semibold px-5 py-3 rounded-lg hover:bg-white/20 transition-colors duration-300">
                    <i class="fas fa-shopping-cart mr-0 text-xl"></i>
                    Gestión de Ventas
                </a>
            </li>
            <li>
                <details class="group text-white" open>
                    <summary
                        class="flex items-center justify-between font-semibold px-6 py-3 rounded-lg hover:bg-white/20 transition-colors duration-300 cursor-pointer whitespace-nowrap truncate">
                        <span class="flex items-center truncate">
                            <i class="fa-solid fa-box mr-1 text-xl"></i> Revisiones
                        </span>
                        <i
                            class="fa-solid fa-chevron-right text-base transition-transform duration-300 group-open:rotate-90"></i>
                    </summary>
                    <ul class="pl-8 mt-2 space-y-1">
                        <li>
                            <a routerLink="/admin/gestion-pqrsd" routerLinkActive="bg-white/30"
                                class="block py-2 text-sm hover:bg-white/10 rounded-md transition whitespace-nowrap truncate">
                                PQRSD
                            </a>
                        </li>
                        <li>
                            <a routerLink="/productos/revision2" routerLinkActive="bg-white/30"
                                class="block py-2 text-sm hover:bg-white/10 rounded-md transition whitespace-nowrap truncate">
                                Soporte
                            </a>
                        </li>
                        <li>
                            <a routerLink="/admin/reportes-user" routerLinkActive="bg-white/30"
                                class="block py-2 text-sm hover:bg-white/10 rounded-md transition whitespace-nowrap truncate">
                                Rerportes USER
                            </a>
                        </li>
                    </ul>
                </details>
            </li>
            <li>
                <details class="group text-white" open>
                    <summary
                        class="flex items-center justify-between font-semibold px-6 py-3 rounded-lg hover:bg-white/20 transition-colors duration-300 cursor-pointer whitespace-nowrap truncate">
                        <span class="flex items-center truncate">
                            <i class="fa-solid fa-box mr-1 text-xl"></i> Terminos Legales
                        </span>
                        <i
                            class="fa-solid fa-chevron-right text-base transition-transform duration-300 group-open:rotate-90"></i>
                    </summary>
                    <ul class="pl-8 mt-2 space-y-1">
                        <li>
                            <a routerLink="/admin/gestion-terminos-condiciones" routerLinkActive="bg-white/30"
                                class="block py-2 text-sm hover:bg-white/10 rounded-md transition whitespace-nowrap truncate">
                                Terminos y condiciones
                            </a>
                        </li>
                        <li>
                            <a routerLink="/admin/gestion-politicas-privacidad" routerLinkActive="bg-white/30"
                                class="block py-2 text-sm hover:bg-white/10 rounded-md transition whitespace-nowrap truncate">
                                Politica de privacidad
                            </a>
                        </li>
                    </ul>
                </details>
            </li>
            <li>
                <a routerLink="/admin/seguimiento-app" routerLinkActive="bg-white/30"
                    class="flex items-center whitespace-nowrap truncate text-white font-semibold px-5 py-3 rounded-lg hover:bg-white/20 transition-colors duration-300">
                    <i class="fas fa-shopping-cart mr-0 text-xl"></i>
                    Seguimiento App
                </a>
            </li>
        </ul>


    </aside>

    <div class="flex flex-col flex-1 h-screen overflow-hidden">

        <header class="h-[60px] bg-white border-b border-gray-300 px-5 flex justify-between items-center">
            <div class="topbar-left">
                <span class="font-bold text-lg text-gray-800">AcceShoes Admin</span>
            </div>
            <div class="topbar-right flex items-center gap-4">
                <div class="profile-dropdown-container relative cursor-pointer" (click)="toggleProfileMenu()">
                    <div
                        class="w-10 h-10 rounded-full overflow-hidden border-2 border-cyan-500 hover:border-cyan-700 transition-colors duration-300">
                        <img *ngIf="user?.img; else defaultAvatar" [src]="user?.img" alt="User Avatar"
                            class="w-full h-full object-cover" />
                        <ng-template #defaultAvatar>
                            <img src="assets/user_pordefault.jpg" alt="Default Avatar"
                                class="w-full h-full object-cover" />
                        </ng-template>
                    </div>

                    <div class="profile-dropdown-menu absolute top-12 right-0 w-44 bg-white shadow-lg rounded-lg opacity-0 pointer-events-none transform -translate-y-2 transition-all duration-200 z-10"
                        [class.open]="profileMenuOpen">
                        <div class="dropdown-header border-b border-gray-200 px-4 py-3">
                            <span class="block text-gray-600 text-sm">Welcome Admin!</span>
                            <span class="font-semibold text-cyan-500">{{ user?.name }}</span>
                        </div>
                        <ul class="dropdown-links py-2">
                            <li><a [routerLink]="['/admin/perfil']"
                                    class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-cyan-50 hover:text-cyan-500 rounded-md">
                                    <i class="fas fa-user text-xs"></i> Mi Perfil</a></li>
                            <li>
                                <a [routerLink]="['/admin/configuracion']"
                                    class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-cyan-50 hover:text-cyan-500 rounded-md">
                                    <i class="fas fa-cog text-xs"></i> Configuración
                                </a>
                            </li>

                            <li><a href="#" (click)="cerrarSesion()"
                                    class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-cyan-50 hover:text-cyan-500 rounded-md">
                                    <i class="fas fa-sign-out-alt text-xs"></i> Cerrar Seccion</a></li>
                        </ul>
                    </div>
                </div>

            </div>
        </header>

        <main class="flex-1 overflow-y-auto p-4 bg-[#f4f6f9]">
            <router-outlet></router-outlet>
        </main>
    </div>
</div>