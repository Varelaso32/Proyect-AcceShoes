<app-navbar></app-navbar>

<div class="container mx-auto px-4 pt-32 min-h-screen">
    <div class="max-w-7xl mx-auto">
        <!-- Header de resultados -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-cyan-700">Resultados de búsqueda</h1>
            <p class="text-gray-600 mt-2" *ngIf="searchQuery">
                Se encontraron {{ searchResults.length }} resultados para "{{ searchQuery }}"
            </p>
        </div>

        <!-- Loader -->
        <div *ngIf="loading" class="flex justify-center my-20">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-700"></div>
        </div>

        <!-- Mensaje si no hay resultados -->
        <div *ngIf="!loading && searchResults.length === 0" class="text-center my-20">
            <h2 class="text-2xl font-medium text-gray-600">No se encontraron productos que coincidan con tu búsqueda</h2>
            <p class="mt-4 text-gray-500">Intenta con otras palabras o navega por nuestras categorías</p>
            <div class="mt-8">
                <a routerLink="/" class="btn bg-cyan-600 text-white hover:bg-cyan-700">Volver al inicio</a>
            </div>
        </div>

        <!-- Grid de resultados -->
        <div *ngIf="!loading && searchResults.length > 0" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-10">
            <!-- Tarjeta de producto -->
            <div *ngFor="let product of searchResults" class="card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow duration-300">
                <figure class="px-4 pt-4">
                    <img [src]="product.imageUrl" alt="{{ product.name }}" class="rounded-xl h-48 w-full object-cover" 
                         onerror="this.src='/api/placeholder/300/300'; this.onerror=null;" />
                </figure>
                <div class="card-body">
                    <h2 class="card-title text-cyan-700">{{ product.name }}</h2>
                    <p class="text-gray-500">{{ product.description }}</p>
                    <div class="mt-2">
                        <span class="badge badge-outline">{{ product.category }}</span>
                    </div>
                    <div class="flex justify-between items-center mt-4">
                        <span class="text-xl font-bold text-cyan-600">${{ product.price.toFixed(2) }}</span>
                        <div class="card-actions">
                            <button class="btn btn-sm bg-cyan-600 text-white hover:bg-cyan-700" 
                                    (click)="navigateToProductDetail(product.id)">
                                Ver detalles
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<app-footer></app-footer>