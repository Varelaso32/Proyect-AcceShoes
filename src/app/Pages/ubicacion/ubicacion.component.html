<app-navbar></app-navbar>

<div class="p-6 max-w-md mx-auto min-h-[70vh]">
    <h2 class="text-2xl font-bold text-center text-cyan-700 mb-6">Ubicación</h2>

    <!-- Tabs -->
    <div class="flex justify-center space-x-6 text-lg font-semibold mb-6 border-b pb-2">
        <button (click)="view = 'listado'"
            [ngClass]="{ 'text-cyan-700 border-b-2 border-cyan-700': view === 'listado' }">
            Listado
        </button>
        <button (click)="view = 'mapa'" [ngClass]="{ 'text-cyan-700 border-b-2 border-cyan-700': view === 'mapa' }">
            Mapa
        </button>
    </div>

    <!-- Vista Listado -->
    <div *ngIf="view === 'listado'" class="space-y-5">
        <div class="flex items-center space-x-2 text-cyan-700 font-medium cursor-pointer" (click)="usarGPS()">
            <i class="fa-solid fa-location-crosshairs"></i>
            <span>Usar GPS - Asignar la tienda más cercana</span>
        </div>

        <div *ngFor="let tienda of tiendas" class="border-b py-3">
            <strong>{{ tienda.ciudad }}</strong><br />
            <span>{{ tienda.direccion }}</span>
        </div>
    </div>

    <!-- Vista Mapa -->
    <div *ngIf="view === 'mapa'" class="space-y-5">
        <div class="w-full rounded-lg overflow-hidden shadow aspect-[4/3]">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3982.672517585747!2d-76.53768172502765!3d3.429662796544828!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e30a690d6bbff73%3A0x757cc3c7100544fb!2sFundaci%C3%B3n%20Centro%20Colombiano%20de%20Estudios%20Profesionales%20-%20Cecep!5e0!3m2!1ses-419!2sco!4v1747495208576!5m2!1ses-419!2sco"
                class="w-full h-full border-0" allowfullscreen="" loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>

        <div class="bg-gray-100 p-4 rounded-xl shadow text-center">
            <h3 class="font-bold text-cyan-700 text-lg">
                {{ gpsUbicacion ? 'Tu ubicación actual' : 'ACCESHOES Cali, Champagna' }}
            </h3>
            <p *ngIf="!gpsUbicacion">calle 5 #52-210 Local L101</p>
            <p class="text-sm font-semibold mt-1">Lunes a Sábado · Sujetos a horario</p>
        </div>
    </div>
</div>

<app-footer></app-footer>