<app-navbar></app-navbar>

<!-- ALERTAS LATERALES -->
<div *ngIf="errorMessage"
    class="fixed top-5 right-5 bg-red-100 text-red-700 px-4 py-3 rounded-lg shadow-lg z-50 flex items-center gap-2">
    <span class="font-bold">¡Error!</span> {{ errorMessage }}
</div>
<div *ngIf="successMessage"
    class="fixed top-5 right-5 bg-green-100 text-green-700 px-4 py-3 rounded-lg shadow-lg z-50 flex items-center gap-2">
    <span class="font-bold">¡Éxito!</span> {{ successMessage }}
</div>

<!-- CONTENEDOR CENTRADO -->
<div class="min-h-[calc(100vh-128px)] bg-white text-black flex items-center justify-center px-4 py-12">
    <div class="w-full max-w-md bg-gray-50 p-6 rounded-2xl shadow-xl">
        <h2 class="text-2xl font-bold mb-6 text-center text-cyan-700">Enviar PQRSD</h2>

        <!-- FORMULARIO -->
        <form (ngSubmit)="submitPqrsd()" #pqrsdForm="ngForm" novalidate>
            <div class="mb-4">
                <label for="category" class="block font-semibold mb-1">Tipo de Solicitud</label>
                <select id="category" name="category" [(ngModel)]="form.category" required
                    class="w-full px-4 py-2 border rounded-md" [ngClass]="{
              'border-gray-300': form.category,
              'border-red-500': showErrors && !form.category
            }">
                    <option value="" disabled selected>Seleccione una opción</option>
                    <option value="Petición">Petición</option>
                    <option value="Queja">Queja</option>
                    <option value="Reclamo">Reclamo</option>
                    <option value="Sugerencia">Sugerencia</option>
                    <option value="Denuncia">Denuncia</option>
                </select>
            </div>

            <div class="mb-4">
                <label for="description" class="block font-semibold mb-1">Descripción</label>
                <textarea id="description" name="description" [(ngModel)]="form.description" required rows="4"
                    class="w-full px-4 py-2 border rounded-md resize-none" [ngClass]="{
              'border-gray-300': form.description,
              'border-red-500': showErrors && !form.description.trim()
            }"></textarea>
            </div>

            <button type="submit"
                class="bg-cyan-700 text-white w-full py-2 rounded-lg font-semibold hover:bg-cyan-800 transition"
                [disabled]="loading">
                {{ loading ? 'Enviando...' : 'Enviar' }}
            </button>
        </form>
    </div>
</div>

<app-footer></app-footer>